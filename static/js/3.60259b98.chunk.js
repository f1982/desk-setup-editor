(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{44:function(t,e,r){"use strict";r.r(e),r.d(e,"STLExporter",function(){return a});var o=r(1),n=r(2),i=r(0),a=function(){function t(){Object(o.a)(this,t)}return Object(n.a)(t,[{key:"parse",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=void 0!==r.binary&&r.binary,n=[],a=0;t.traverse(function(t){if(t.isMesh){var e=t.geometry;if(!0!==e.isBufferGeometry)throw new Error("THREE.STLExporter: Geometry is not of type THREE.BufferGeometry.");var r=e.index,o=e.getAttribute("position");a+=null!==r?r.count/3:o.count/3,n.push({object3d:t,geometry:e})}});var s=80;if(!0===o){var f=new ArrayBuffer(2*a+3*a*4*4+80+4);(e=new DataView(f)).setUint32(s,a,!0),s+=4}else e="",e+="solid exported\n";for(var u=new i.Db,l=new i.Db,c=new i.Db,b=new i.Db,p=new i.Db,d=new i.Db,y=0,m=n.length;y<m;y++){var w=n[y].object3d,x=n[y].geometry,v=x.index,g=x.getAttribute("position");if(null!==v)for(var h=0;h<v.count;h+=3){E(v.getX(h+0),v.getX(h+1),v.getX(h+2),g,w)}else for(var D=0;D<g.count;D+=3){E(D+0,D+1,D+2,g,w)}}return!1===o&&(e+="endsolid exported\n"),e;function E(t,r,n,i,a){u.fromBufferAttribute(i,t),l.fromBufferAttribute(i,r),c.fromBufferAttribute(i,n),!0===a.isSkinnedMesh&&(a.boneTransform(t,u),a.boneTransform(r,l),a.boneTransform(n,c)),u.applyMatrix4(a.matrixWorld),l.applyMatrix4(a.matrixWorld),c.applyMatrix4(a.matrixWorld),function(t,r,n){b.subVectors(n,r),p.subVectors(t,r),b.cross(p).normalize(),d.copy(b).normalize(),!0===o?(e.setFloat32(s,d.x,!0),s+=4,e.setFloat32(s,d.y,!0),s+=4,e.setFloat32(s,d.z,!0),s+=4):(e+="\tfacet normal "+d.x+" "+d.y+" "+d.z+"\n",e+="\t\touter loop\n")}(u,l,c),T(u),T(l),T(c),!0===o?(e.setUint16(s,0,!0),s+=2):(e+="\t\tendloop\n",e+="\tendfacet\n")}function T(t){!0===o?(e.setFloat32(s,t.x,!0),s+=4,e.setFloat32(s,t.y,!0),s+=4,e.setFloat32(s,t.z,!0),s+=4):e+="\t\t\tvertex "+t.x+" "+t.y+" "+t.z+"\n"}}}]),t}()}}]);
//# sourceMappingURL=3.60259b98.chunk.js.map