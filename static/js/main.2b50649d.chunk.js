(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(t,e,n){t.exports=n(38)},35:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var i=n(8),r=n.n(i),o=n(20),a=n.n(o),s=n(13),c=n(9),h=function(t){t&&t instanceof Function&&n.e(4).then(n.bind(null,43)).then(function(e){var n=e.getCLS,i=e.getFID,r=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),i(t),r(t),o(t),a(t)})};var u=function(){return r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"intro"},"This is Setup Editor"),r.a.createElement(s.b,{to:"/"},"Home"))},l=n(12),d=n(15),f=n(21);function p(){p=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(W){s=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var r=e&&e.prototype instanceof l?e:l,o=Object.create(r.prototype),a=new x(i||[]);return o._invoke=function(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return R()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=h(t,e,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(W){return{type:"throw",arg:W}}}t.wrap=c;var u={};function l(){}function d(){}function f(){}var v={};s(v,r,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(E([])));m&&m!==e&&n.call(m,r)&&(v=m);var y=f.prototype=l.prototype=Object.create(v);function b(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var i;this._invoke=function(r,o){function a(){return new e(function(i,a){!function i(r,o,a,s){var c=h(t[r],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){i("next",t,a,s)},function(t){i("throw",t,a,s)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return i("throw",t,a,s)})}s(c.arg)}(r,o,i,a)})}return i=i?i.then(a,a):a()}}function O(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,u;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function E(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:R}}function R(){return{value:void 0,done:!0}}return d.prototype=f,s(y,"constructor",f),s(f,"constructor",d),d.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,function(){return this}),t.AsyncIterator=w,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new w(c(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},b(y),s(y,a,"Generator"),s(y,r,function(){return this}),s(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=E,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;j(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function v(){return(v=Object(d.a)(p().mark(function t(e,i){var r,o,a,s,c;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(3).then(n.bind(null,44));case 2:r=t.sent,o=r.STLExporter,a=new o,s=a.parse(e,{binary:!1}),c=new Blob([s],{type:"text/plain"}),Object(f.saveAs)(c,i+".stl");case 8:case"end":return t.stop()}},t)}))).apply(this,arguments)}var g,m=n(1),y=n(2),b=n(0),w=n(25),O=n(22),k=n(23),j=n(24),x=n.n(j),E=n(17),R=n(39),W=n(40),C=n(41),L=n(5),D=n(10),M=n(6);function H(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Object(M.a)(t);if(e){var r=Object(M.a)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Object(D.a)(this,n)}}!function(t){t.Movable="Movable",t.Static="Static",t.None=""}(g||(g={}));var P=function(t){Object(L.a)(n,t);var e=H(n);function n(){var t;return Object(m.a)(this,n),(t=e.call(this)).objType=g.None,t.restrictMin=new b.Db(-2,-2,-2),t.restrictMax=new b.Db(2,2,2),t}return Object(y.a)(n,[{key:"setGUI",value:function(t){}},{key:"updateRestrictArea",value:function(t,e){this.restrictMin=t,this.restrictMax=e}},{key:"getRestrictArea",value:function(){return{min:new b.Db,max:new b.Db}}},{key:"getContainerBox",value:function(){return{min:new b.Db,max:new b.Db}}}]),n}(b.u);var S=function(){function t(e,n,i){Object(m.a)(this,t),this.camera=void 0,this.renderer=void 0,this.scene=void 0,this.orbit=void 0,this.control=void 0,this.dragControl=void 0,this.dragGroup=new b.u,this.dragMoved=!1,this.rayCaster=void 0,this.rayPointer=new b.Cb,this.selectedObj=null,this.movableObject=void 0,this.camera=n,this.renderer=i,this.scene=e,this.initRayCaster(),this.initOrbit(),this.initDragDrop()}return Object(y.a)(t,[{key:"initOrbit",value:function(){var t=new R.a(this.camera,this.renderer.domElement);t.enablePan=!1,t.enableDamping=!0,t.update(),t.addEventListener("change",this.render),this.orbit=t}},{key:"initTransformControls",value:function(){var t=this,e=new C.a(this.camera,this.renderer.domElement);e.setMode("translate"),e.addEventListener("change",function(e){if(t.selectedObj){var n=t.selectedObj.getRestrictArea(),i=n.min,r=n.max;t.selectedObj.position.clamp(i,r),t.render(e)}}),e.addEventListener("dragging-changed",function(e){t.orbit.enabled=!e.value}),this.scene.add(e),this.control=e}},{key:"initRayCaster",value:function(){var t=this,e=new b.kb;this.renderer.domElement.addEventListener("pointerdown",function(n){var i=t.renderer.domElement.getBoundingClientRect();t.rayPointer.x=(n.clientX-i.left)/i.width*2-1,t.rayPointer.y=-(n.clientY-i.top)/i.height*2+1,e.setFromCamera(t.rayPointer,t.camera);var r=function(t){var e=t.children.filter(function(t){return t instanceof P&&"displayRoom"!==t.name}),n=[];return e.forEach(function(t){var e=t.children.filter(function(t){return t instanceof b.O});n.push.apply(n,Object(E.a)(e)),t.children.filter(function(t){return t instanceof P}).forEach(function(t){var e=t.children.filter(function(t){return t instanceof b.O});n.push.apply(n,Object(E.a)(e))})}),n}(t.scene),o=e.intersectObjects(r,!0);o.length>0&&o[0].object.parent instanceof P?t.updateDragObject(o[0].object.parent):t.updateDragObject(null)}),this.rayCaster=e}},{key:"initDragDrop",value:function(){var t=this;this.scene.add(this.dragGroup);var e=new W.a([],this.camera,this.renderer.domElement);e.transformGroup=!0,e.addEventListener("dragstart",function(e){t.orbit.enabled=!1}),e.addEventListener("drag",function(e){if(t.dragMoved=!0,t.selectedObj){var n=t.selectedObj.getRestrictArea(),i=n.min,r=n.max;t.selectedObj.position.clamp(i,r)}}),e.addEventListener("dragend",function(e){console.log("dragend"),t.orbit.enabled=!0,t.dragMoved||t.selectedObj&&t.dragClick(t.selectedObj),t.dragMoved=!1}),this.dragControl=e}},{key:"dragClick",value:function(t){console.log("dragClick",t)}},{key:"updateDragObject",value:function(t){this.selectedObj=t;var e=this.dragControl.getObjects();e.length=0,this.selectedObj&&e.push(this.selectedObj)}},{key:"render",value:function(t){}}]),t}(),T=n(42);function A(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Object(M.a)(t);if(e){var r=Object(M.a)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Object(D.a)(this,n)}}var B=function(t){Object(L.a)(n,t);var e=A(n);function n(){var t;return Object(m.a)(this,n),(t=e.call(this)).body=void 0,t.mugWidth=.4,t.chairHeight=.6,t.loadGLTF(),t.layout(),t}return Object(y.a)(n,[{key:"getRestrictArea",value:function(){return{min:new b.Db(this.restrictMin.x+this.mugWidth/2,0,this.restrictMin.z+this.mugWidth/2),max:new b.Db(this.restrictMax.x-this.mugWidth/2,0,this.restrictMax.z-this.mugWidth/2)}}},{key:"loadGLTF",value:function(){var t=this,e=new b.f(1,1,1),n=new b.Q({color:16711680,wireframe:!0}),i=new b.O(e,n);i.scale.set(1.2,.45,.1),this.add(i);(new T.a).load("/static/models/chair.gltf",function(e){t.add(e.scene)},function(t){console.log("".concat(t.loaded/t.total*100,"% loaded"))},function(t){console.log("An error  happened")})}},{key:"layout",value:function(){}}]),n}(P);function G(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Object(M.a)(t);if(e){var r=Object(M.a)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Object(D.a)(this,n)}}var N=function(t){Object(L.a)(n,t);var e=G(n);function n(){var t;return Object(m.a)(this,n),(t=e.call(this)).groundWidth=5,t.groundHeight=5,t.wallHeight=2,t.showWalls=3,t.groundColor=13421772,t.wallColor=16764006,t.ground=void 0,t.walls=[],t.name="displayRoom",t.initGround(),t.initWall(),t.layout(),t}return Object(y.a)(n,[{key:"setGUI",value:function(t){var e=this,n=t.addFolder("DisplayRoom");n.add(this,"groundWidth",2,10,.1).onChange(function(t){e.groundWidth=t,e.layout()}),n.add(this,"groundHeight",2,10,.1).onChange(function(t){e.groundHeight=t,e.layout()}),n.add(this,"wallHeight",2,3,.1).onChange(function(t){e.wallHeight=t,e.layout()}),n.add(this,"showWalls",0,3,1).onChange(function(t){e.showWalls=t,e.layout()})}},{key:"getContainerBox",value:function(){return{min:new b.Db(-this.groundWidth/2,0,-this.groundHeight/2),max:new b.Db(this.groundWidth/2,0,this.groundHeight/2)}}},{key:"initGround",value:function(){var t=new b.db(1,1),e=new b.Q({color:this.groundColor});e.side=b.n,this.ground=new b.O(t,e),this.add(this.ground)}},{key:"initWall",value:function(){for(var t=0;t<this.showWalls;t++){var e=new b.db(1,1),n=new b.Q({color:this.wallColor});n.side=b.n;var i=new b.O(e,n);this.add(i),this.walls.push(i)}}},{key:"layout",value:function(){this.ground.rotation.set(Math.PI/2,0,0),this.ground.scale.set(this.groundWidth,this.groundHeight,.5),this.walls.forEach(function(t){t.visible=!1}),this.showWalls>0&&(this.walls[0].visible=!0,this.walls[0].scale.set(this.groundWidth,this.wallHeight,.1),this.walls[0].position.set(0,this.wallHeight/2,this.groundHeight/2)),this.showWalls>1&&(this.walls[1].visible=!0,this.walls[1].scale.set(this.groundHeight,this.wallHeight,.1),this.walls[1].rotation.set(0,Math.PI/2,0),this.walls[1].position.set(this.groundWidth/2,this.wallHeight/2,0),this.walls[2].visible=!0,this.walls[2].scale.set(this.groundHeight,this.wallHeight,.1),this.walls[2].rotation.set(0,-Math.PI/2,0),this.walls[2].position.set(-this.groundWidth/2,this.wallHeight/2,0)),this.dispatchEvent({type:"layout-change",message:"room changed"})}}]),n}(P);function I(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Object(M.a)(t);if(e){var r=Object(M.a)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Object(D.a)(this,n)}}var z=function(t){Object(L.a)(n,t);var e=I(n);function n(){var t;return Object(m.a)(this,n),(t=e.call(this)).body=void 0,t.mugWidth=.2,t.loadMonitor(),t.layout(),t}return Object(y.a)(n,[{key:"getRestrictArea",value:function(){return{min:new b.Db(this.restrictMin.x+this.mugWidth/2,this.restrictMin.y,this.restrictMin.z+this.mugWidth/2),max:new b.Db(this.restrictMax.x-this.mugWidth/2,this.restrictMax.y,this.restrictMax.z-this.mugWidth/2)}}},{key:"loadMonitor",value:function(){var t=this,e=new b.f(1,1,1),n=new b.Q({color:16711680,wireframe:!0}),i=new b.O(e,n);i.scale.set(1.2,.45,.1),this.add(i);(new T.a).load("/static/models/monitor-34.gltf",function(e){t.body=e.scene,console.log("this.body ",t.body),t.add(t.body)},function(t){console.log("".concat(t.loaded/t.total*100,"% loaded"))},function(t){console.log("An error  happened")})}},{key:"layout",value:function(){}}]),n}(P);function F(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Object(M.a)(t);if(e){var r=Object(M.a)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Object(D.a)(this,n)}}var _=function(t){Object(L.a)(n,t);var e=F(n);function n(){var t;return Object(m.a)(this,n),(t=e.call(this)).body=void 0,t.mugWidth=.2,t.initMug(),t.layout(),t}return Object(y.a)(n,[{key:"getRestrictArea",value:function(){return{min:new b.Db(this.restrictMin.x+this.mugWidth/2,this.restrictMin.y+this.mugWidth/2,this.restrictMin.z+this.mugWidth/2),max:new b.Db(this.restrictMax.x-this.mugWidth/2,this.restrictMax.y+this.mugWidth/2,this.restrictMax.z-this.mugWidth/2)}}},{key:"initMug",value:function(){var t=new b.f(1,1,1),e=new b.Q({color:16764057});this.body=new b.O(t,e),this.add(this.body)}},{key:"layout",value:function(){this.body.scale.set(this.mugWidth,this.mugWidth,this.mugWidth)}}]),n}(P);function Q(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Object(M.a)(t);if(e){var r=Object(M.a)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Object(D.a)(this,n)}}var U=function(t){Object(L.a)(n,t);var e=Q(n);function n(){var t;return Object(m.a)(this,n),(t=e.call(this)).desktopWidth=2,t.desktopDepth=.6,t.desktopHeight=.05,t.legWidth=.05,t.legHeight=.9,t.padding=.1,t.boardColor=12740880,t.legsColor=0,t.desktop=void 0,t.legs=[],t.initDesktop(),t.initLegs(),t.layout(),t}return Object(y.a)(n,[{key:"setGUI",value:function(t){var e=this,n=t.addFolder("Desk");n.add(this,"desktopWidth",1,3.6,.1).onChange(function(t){e.desktopWidth=t,e.layout()}),n.add(this,"desktopDepth",.5,2,.01).onChange(function(t){e.desktopDepth=t,e.layout()}),n.add(this,"desktopHeight",.02,.1,.01).onChange(function(t){e.desktopHeight=t,e.layout()}),n.add(this,"legHeight",.5,1.6,.1).onChange(function(t){e.legHeight=t,e.layout()}),n.add(this,"legWidth",.02,.12,.01).onChange(function(t){e.legWidth=t,e.layout()}),n.add(this,"padding",.01,.2,.01).onChange(function(t){e.padding=t,e.layout()})}},{key:"getRestrictArea",value:function(){return{min:new b.Db(this.restrictMin.x+this.desktopWidth/2,0,this.restrictMin.z+this.desktopDepth/2),max:new b.Db(this.restrictMax.x-this.desktopWidth/2,0,this.restrictMax.z-this.desktopDepth/2)}}},{key:"getContainerBox",value:function(){var t=this.legHeight+this.desktopHeight;return{min:new b.Db(this.position.x-this.desktopWidth/2,t,this.position.z-this.desktopDepth/2),max:new b.Db(this.position.x+this.desktopWidth/2,t,this.position.z+this.desktopDepth/2)}}},{key:"getConfiguration",value:function(){return{}}},{key:"addSub",value:function(t){var e=(new b.e).setFromObject(t);t.position.set(0,this.legHeight+this.desktopHeight+e.max.y,0),this.add(t),console.log("desk children:",this.children)}},{key:"initDesktop",value:function(){var t=new b.f(1,1,1),e=new b.Q({color:this.boardColor});this.desktop=new b.O(t,e),this.add(this.desktop)}},{key:"initLegs",value:function(){for(var t=0;t<4;t++){var e=new b.f(1,1,1),n=new b.Q({color:this.legsColor}),i=new b.O(e,n);i.rotation.set(Math.PI/2,0,0),this.add(i),this.legs.push(i)}}},{key:"layout",value:function(){var t=this;this.desktop.rotation.set(Math.PI/2,0,0),this.desktop.scale.set(this.desktopWidth,this.desktopDepth,this.desktopHeight),this.desktop.position.set(0,this.legHeight+this.desktopHeight/2,0),this.legs.forEach(function(e){e.scale.set(t.legWidth,t.legWidth,t.legHeight)}),this.legs[0].position.set(-this.desktopWidth/2+this.padding+this.legWidth/2,this.legHeight/2,-this.desktopDepth/2+this.padding+this.legWidth/2),this.legs[1].position.set(this.desktopWidth/2-this.padding-this.legWidth/2,this.legHeight/2,-this.desktopDepth/2+this.padding+this.legWidth/2),this.legs[2].position.set(-this.desktopWidth/2+this.padding+this.legWidth/2,this.legHeight/2,this.desktopDepth/2-this.padding-this.legWidth/2),this.legs[3].position.set(this.desktopWidth/2-this.padding-this.legWidth/2,this.legHeight/2,this.desktopDepth/2-this.padding-this.legWidth/2),this.dispatchEvent({type:"layout-change",message:"desk changed"})}}]),n}(P),Y=function(){function t(e,n){Object(m.a)(this,t),this.scene=void 0,this.gui=void 0,this.room=void 0,this.desk=void 0,this.inRoomObjects=[],this.onTableObjects=[],this.scene=e,this.gui=n,this.initRoom(),this.initInRoomObjects(),this.initOnDeskObjects()}return Object(y.a)(t,[{key:"initRoom",value:function(){var t=this,e=new N;e.addEventListener("layout-change",function(){t.updateInRoomObjectsRestrictArea()}),e.setGUI(this.gui),this.scene.add(e),this.room=e}},{key:"initInRoomObjects",value:function(){var t=this,e=new U;e.setGUI(this.gui),e.addEventListener("layout-change",function(){t.updateOnTableObjectRestrictArea()}),this.scene.add(e),this.inRoomObjects.push(e),this.desk=e;var n=new B;this.inRoomObjects.push(n),this.scene.add(n),this.updateInRoomObjectsRestrictArea()}},{key:"updateInRoomObjectsRestrictArea",value:function(){var t=this.room.getContainerBox(),e=t.min,n=t.max;this.inRoomObjects.forEach(function(t){t.updateRestrictArea(e,n)})}},{key:"initOnDeskObjects",value:function(){var t=new _;this.desk.addSub(t),this.onTableObjects.push(t);var e=new z;this.desk.addSub(e),this.onTableObjects.push(e),this.updateOnTableObjectRestrictArea()}},{key:"updateOnTableObjectRestrictArea",value:function(){var t=this.desk.getContainerBox(),e=t.min,n=t.max;this.onTableObjects.forEach(function(t){t.updateRestrictArea(e,n)})}}]),t}(),J=function(){function t(e){Object(m.a)(this,t),this.scene=void 0,this.renderer=void 0,this.composer=void 0,this.clock=void 0,this.camera=void 0,this.perspectiveCamera=void 0,this.orthographicCamera=void 0,this.stats=void 0,this.gui=void 0,this.setupObjects=void 0,this.movableObjects=[],this.initScene(e),this.initTools(),this.initElements(),this.initControl()}return Object(y.a)(t,[{key:"dispose",value:function(){console.log("dispose renderer!"),this.renderer.dispose(),this.gui.destroy(),this.stats.dom.remove(),this.scene.traverse(function(t){console.log("object",t)})}},{key:"switchToSTLScene",value:function(){}},{key:"resetNormalScene",value:function(){}},{key:"initScene",value:function(t){var e=t.mountPoint,n=t.width,i=t.height;this.clock=new b.j,this.scene=function(){var t=new b.mb;return t.background=new b.k("#cccccc"),t}(),this.perspectiveCamera=function(t,e){var n=new b.bb(50,t/e,.1,1e3);return n.position.set(3,2,-3),n.rotation.set(0,0,0),n}(n,i),this.orthographicCamera=function(t,e){return new b.ab(t/-2,t/2,e/2,e/-2,.1,1e3)}(n,i),this.camera=this.perspectiveCamera;!function(t){var e=new b.a(16777215,.66);e.position.set(0,3,0),t.add(e);var n=new b.m(16777215,.8);n.position.set(13.5,15,-12.5),t.add(n)}(this.scene);this.renderer=function(t,e){var n=new b.Gb({alpha:!0,antialias:!0});return n.setSize(t,e),n}(n,i);var r=new O.a(this.scene,this.camera);r.clear=!1,this.composer=new w.a(this.renderer),this.composer.addPass(r),e.appendChild(this.renderer.domElement)}},{key:"initTools",value:function(){this.scene.add(new b.t(10,20,16777215,16777215));var t=new b.c(5);this.scene.add(t),this.gui=new k.a({width:310}),this.stats=function(){var t=new x.a;return t.showPanel(0),t}(),document.body.append(this.stats.dom)}},{key:"initElements",value:function(){this.setupObjects=new Y(this.scene,this.gui)}},{key:"initControl",value:function(){new S(this.scene,this.camera,this.renderer)}},{key:"resizeRendererToDisplaySize",value:function(){var t=this.renderer.domElement,e=t.clientWidth,n=t.clientHeight,i=t.width!==e||t.height!==n;return i&&(this.renderer.setSize(e,n,!1),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2))),i}},{key:"setAnimationLoop",value:function(t){this.renderer.setAnimationLoop(t)}},{key:"render",value:function(){if(this.stats.begin(),this.resizeRendererToDisplaySize()){var t=this.renderer.domElement;this.camera===this.perspectiveCamera?(this.perspectiveCamera.aspect=t.clientWidth/t.clientHeight,this.perspectiveCamera.updateProjectionMatrix()):this.orthographicCamera.updateProjectionMatrix(),this.composer.render(),this.stats.end()}}}]),t}(),X=(n(35),function(){var t=Object(i.useState)(!1),e=Object(l.a)(t,2),n=e[0],o=e[1],a=Object(i.useRef)(null),s=Object(i.useRef)(null);return Object(i.useEffect)(function(){if(!n&&a.current){var t=a.current,e=t.clientWidth,i=t.clientHeight,r=new J({mountPoint:a.current,width:e,height:i});s.current=r,(c=r).setAnimationLoop(function(){c.render()}),o(!0)}var c;return function(){if(s.current&&s.current.dispose(),a.current){var t=a.current.firstChild;a.current.removeChild(t)}}},[]),r.a.createElement("div",{className:"container","data-test":n},r.a.createElement("div",{className:"visualizationMount",ref:a}),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){s.current&&s.current.scene&&function(t,e){v.apply(this,arguments)}(s.current.scene,"test-stl-file")}},"Save STL")))});n(36);var q=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(X,null),r.a.createElement("div",{className:"tool-container"},r.a.createElement("div",{className:"left-bar"}),r.a.createElement("div",{className:"right"},r.a.createElement(s.b,{to:"/"},"Home"))))};var K=function(){return r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"intro"},"This is Setup Editor"),r.a.createElement("div",null,r.a.createElement(s.b,{to:"/editor"},"Editor")),r.a.createElement("div",null,r.a.createElement(s.b,{to:"/about"},"About")))};n(37);a.a.createRoot(document.getElementById("root")).render(r.a.createElement(s.a,null,r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/",element:r.a.createElement(K,null)}),r.a.createElement(c.a,{path:"/editor",element:r.a.createElement(q,null)}),r.a.createElement(c.a,{path:"/about",element:r.a.createElement(u,null)})))),h()}},[[26,1,2]]]);
//# sourceMappingURL=main.2b50649d.chunk.js.map